Index: git/CMakeLists.txt
===================================================================
--- git.orig/CMakeLists.txt
+++ git/CMakeLists.txt
@@ -101,6 +101,10 @@ if(PERFORMANCE_TEST_RCLCPP_ENABLED)
     set(PERFORMANCE_TEST_RCLCPP_WAITSET_ENABLED ON)
     set(PERFORMANCE_TEST_RCLCPP_SSTE_ENABLED ON)
   endif()
+  if($ENV{ROS_DISTRO} MATCHES "iron")
+    set(PERFORMANCE_TEST_RCLCPP_WAITSET_ENABLED ON)
+    set(PERFORMANCE_TEST_RCLCPP_SSTE_ENABLED ON)
+  endif()
   if(PERFORMANCE_TEST_RCLCPP_STE_ENABLED)
     add_definitions(-DPERFORMANCE_TEST_RCLCPP_STE_ENABLED)
   endif()
@@ -423,6 +427,9 @@ if(PERFORMANCE_TEST_RCLCPP_ENABLED)
     rosidl_target_interfaces(${EXE_NAME} ${PROJECT_NAME} "rosidl_typesupport_cpp")
   elseif($ENV{ROS_DISTRO} MATCHES "dashing")
     rosidl_target_interfaces(${EXE_NAME} ${PROJECT_NAME} "rosidl_typesupport_cpp")
+  elseif($ENV{ROS_DISTRO} MATCHES "iron")
+    rosidl_get_typesupport_target(cpp_typesupport_target "${PROJECT_NAME}" "rosidl_typesupport_cpp")
+    target_link_libraries(${EXE_NAME} "${cpp_typesupport_target}")
   elseif($ENV{ROS_DISTRO} MATCHES "rolling")
     rosidl_get_typesupport_target(cpp_typesupport_target "${PROJECT_NAME}" "rosidl_typesupport_cpp")
     target_link_libraries(${EXE_NAME} "${cpp_typesupport_target}")
